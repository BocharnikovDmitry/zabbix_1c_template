Мониторинг выполняется с помощью консольных утилит ras и rac через UserParameters. Также используется скрипт PowerShell

- Автоматически находит все кластеры на сервере. (Если на одном компьютере находятся разные кластеры, но лицензии выдаются из одного пула, лучше что бы в свойствах кластера имя компьютеры было одинаковым, правельнее будет определятся количество занятых лицензий. Иначе считаться будет верно, но данные будут дублироваться для каждого имени и тригеры срабатывать более одного раза.)
- Сессии в разрезе клиентов, фоновых заданий и конфигуратора. (В рзрезе Баз данных не стал делать)
- Информация о базах данных опубликованных на кластере
- Количество выданных лицензий. Логика такая что считаются все лицензии, выданные данным хостом (rmngr-address). Плюс одну лицензию забирает сервер, если на нем запущена клиентская сессия для работы, ее смотрим по полю host, но считаем один раз. Если на сервере открыть много Баз и много сессий, то лицензия займется все равно одна. Остальные сессии не считаем, так как там лицензии выдал кто то другой. Локальная могла стоять или другой сервер.

ИНСТРУКЦИЯ ПО УСТАНОВКЕ.
1. Если RAS еще не запущен, то лучше щапустить его как службу 

sc create "1C:Enterprise RAS" binpath= "C:\Program Files\1cv8\Х.Х.Х.ХХХХ\bin\ras.exe cluster --service" displayname= "1C:Enterprise RAS" start= auto 
net start "1C:Enterprise RAS"

2. В файл zabbix_agentd.conf добавляем стрки из файла zabbix_agentd.1csrv.conf. Если нужно меняем путь к скрипту ps1 на реальный

3. Не забываем в zabbix_agentd.conf раскоментировать строки
EnableRemoteCommands = 1
UnsafeUserParameters = 1

4. Копируем скрипт zabbix_1c_job. У меня настроена папка C:\Zabbix\scripts. Если у вас другой путь, то копируйте туда, но не забудьте поменять его и в zabbix_agentd.conf, см. п.2.

5. Необходимо импортировать шаблон и при необходимости переопределить в нем МАКРОСы. Обязательные к переопределению помечены звездочкой
    - {$1C.VERSION} - Версию 1С в формате X.X.XX.XXXX. Вынес в отдельный макрос что бы можо было с разными версиями сервера подключать (ОБЯЗАТЕЛЬНО)*
    - {$LIC.TOTAL} - Общее количество лицензий на сервере (ПО УМОЛЧАНИЮ 10)
    - {$LIC.HIGH} - Остаток лицензий, при которм срабатывает тригер с важностью HIGH (ПО УМОЛЧАНИЮ 2)
    - {$LIC.WARNING} - Остаток лицензий, при которм срабатывает тригер с важностью WARNING (ПО УМОЛЧАНИЮ 4)
    - {$RPHOST.HIGH} - Отношение памяти занятой rphos и rpmngr к общему объему памяти, при которм срабатывает тригер с важностью HIGH (ПО УМОЛЧАНИЮ 75%)
    - {$RPHOST.WARNING} - Отношение памяти занятой rphos и rpmngr к общему объему памяти, при которм срабатывает тригер с важностью WARNING (ПО УМОЛЧАНИЮ 50%)